{"ast":null,"code":"var _jsxFileName = \"/home/jurco/SynthPiser-Web/frontend/src/components/Keyboard.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Keyboard = () => {\n  const audioContext = new AudioContext();\n  const loadSample = async soundId => {\n    try {\n      const apiKey = 'YOUR_API_KEY';\n      const response = await fetch(`https://freesound.org/apiv2/sounds/${soundId}/?token=${apiKey}`);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch audio for sound ID ${soundId}`);\n      }\n      const {\n        preview\n      } = await response.json();\n      if (!preview) {\n        throw new Error(`Audio preview not found for sound ID ${soundId}`);\n      }\n      const arrayBuffer = await fetch(preview).then(res => res.arrayBuffer());\n      const audioContext = new AudioContext();\n      return await audioContext.decodeAudioData(arrayBuffer);\n    } catch (error) {\n      console.error('Error loading sample:', error);\n      throw error;\n    }\n  };\n  const playNote = async note => {\n    const sample = await loadSample(note);\n    const source = audioContext.createBufferSource();\n    source.buffer = sample;\n    source.connect(audioContext.destination);\n    source.start(0);\n  };\n  const handleButtonClick = async note => {\n    await playNote(note);\n  };\n\n  // Generate buttons for piano keys\n  const renderPianoKeys = () => {\n    const pianoKeys = [];\n    const rows = 2;\n    const columns = 8;\n    for (let row = 0; row < rows; row++) {\n      for (let col = 0; col < columns; col++) {\n        const note = row * columns + col + 1; // Note numbers start from 1\n        pianoKeys.push( /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleButtonClick(note),\n          children: `C${note}`\n        }, note, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this));\n      }\n      pianoKeys.push( /*#__PURE__*/_jsxDEV(\"br\", {}, `row-${row}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }, this)); // Add line break after each row\n    }\n    return pianoKeys;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"keyboard\",\n    children: renderPianoKeys()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n_c = Keyboard;\nexport default Keyboard;\nvar _c;\n$RefreshReg$(_c, \"Keyboard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Keyboard","audioContext","AudioContext","loadSample","soundId","apiKey","response","fetch","ok","Error","preview","json","arrayBuffer","then","res","decodeAudioData","error","console","playNote","note","sample","source","createBufferSource","buffer","connect","destination","start","handleButtonClick","renderPianoKeys","pianoKeys","rows","columns","row","col","push","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["/home/jurco/SynthPiser-Web/frontend/src/components/Keyboard.tsx"],"sourcesContent":["import React from 'react';\n\nconst Keyboard: React.FC = () => {\n\tconst audioContext = new AudioContext();\n\n\tconst loadSample = async (soundId: number) => {\n\t\ttry {\n\t\t\tconst apiKey = 'YOUR_API_KEY';\n\t\t\tconst response = await fetch(\n\t\t\t\t`https://freesound.org/apiv2/sounds/${soundId}/?token=${apiKey}`\n\t\t\t);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`Failed to fetch audio for sound ID ${soundId}`);\n\t\t\t}\n\t\t\tconst { preview } = await response.json();\n\t\t\tif (!preview) {\n\t\t\t\tthrow new Error(`Audio preview not found for sound ID ${soundId}`);\n\t\t\t}\n\t\t\tconst arrayBuffer = await fetch(preview).then((res) => res.arrayBuffer());\n\t\t\tconst audioContext = new AudioContext();\n\t\t\treturn await audioContext.decodeAudioData(arrayBuffer);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error loading sample:', error);\n\t\t\tthrow error;\n\t\t}\n\t};\n\n\tconst playNote = async (note: number) => {\n\t\tconst sample = await loadSample(note);\n\t\tconst source = audioContext.createBufferSource();\n\t\tsource.buffer = sample;\n\t\tsource.connect(audioContext.destination);\n\t\tsource.start(0);\n\t};\n\n\tconst handleButtonClick = async (note: number) => {\n\t\tawait playNote(note);\n\t};\n\n\t// Generate buttons for piano keys\n\tconst renderPianoKeys = () => {\n\t\tconst pianoKeys: JSX.Element[] = [];\n\t\tconst rows = 2;\n\t\tconst columns = 8;\n\n\t\tfor (let row = 0; row < rows; row++) {\n\t\t\tfor (let col = 0; col < columns; col++) {\n\t\t\t\tconst note = row * columns + col + 1; // Note numbers start from 1\n\t\t\t\tpianoKeys.push(\n\t\t\t\t\t<button key={note} onClick={() => handleButtonClick(note)}>\n\t\t\t\t\t\t{`C${note}`}\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t\tpianoKeys.push(<br key={`row-${row}`} />); // Add line break after each row\n\t\t}\n\n\t\treturn pianoKeys;\n\t};\n\n\treturn <div className=\"keyboard\">{renderPianoKeys()}</div>;\n};\n\nexport default Keyboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}