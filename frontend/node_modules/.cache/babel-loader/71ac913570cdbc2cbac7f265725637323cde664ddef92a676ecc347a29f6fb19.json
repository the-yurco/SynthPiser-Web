{"ast":null,"code":"var _jsxFileName = \"/home/jurco/SynthPiser-Web/frontend/src/components/Keyboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Keyboard = () => {\n  _s();\n  const audioContext = new AudioContext();\n  let source = null;\n  const loadSample = async note => {\n    const response = await fetch(`/piano-flash-cards/audio/C${note}v10.mp3`);\n    const arrayBuffer = await response.arrayBuffer();\n    return audioContext.decodeAudioData(arrayBuffer);\n  };\n  const playNote = async note => {\n    if (source) {\n      source.stop();\n    }\n    const sample = await loadSample(note);\n    source = audioContext.createBufferSource();\n    source.buffer = sample;\n    source.connect(audioContext.destination);\n    source.start(0);\n  };\n  const handleKeyDown = event => {\n    // Adjust note mapping as needed\n    const keyMappings = {\n      a: 4,\n      // Example mapping: 'a' key plays note C4\n      s: 5 // Example mapping: 's' key plays note D4\n      // Add more mappings for other keys as needed\n    };\n    const note = keyMappings[event.key.toLowerCase()];\n    if (note) {\n      playNote(note);\n    }\n  };\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"keyboard\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(Keyboard, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Keyboard;\nexport default Keyboard;\nvar _c;\n$RefreshReg$(_c, \"Keyboard\");","map":{"version":3,"names":["React","useEffect","jsxDEV","_jsxDEV","Keyboard","_s","audioContext","AudioContext","source","loadSample","note","response","fetch","arrayBuffer","decodeAudioData","playNote","stop","sample","createBufferSource","buffer","connect","destination","start","handleKeyDown","event","keyMappings","a","s","key","toLowerCase","window","addEventListener","removeEventListener","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/jurco/SynthPiser-Web/frontend/src/components/Keyboard.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\nconst Keyboard: React.FC = () => {\n\tconst audioContext = new AudioContext();\n\tlet source: AudioBufferSourceNode | null = null;\n\n\tconst loadSample = async (note: number) => {\n\t\tconst response = await fetch(`/piano-flash-cards/audio/C${note}v10.mp3`);\n\t\tconst arrayBuffer = await response.arrayBuffer();\n\t\treturn audioContext.decodeAudioData(arrayBuffer);\n\t};\n\n\tconst playNote = async (note: number) => {\n\t\tif (source) {\n\t\t\tsource.stop();\n\t\t}\n\n\t\tconst sample = await loadSample(note);\n\t\tsource = audioContext.createBufferSource();\n\t\tsource.buffer = sample;\n\t\tsource.connect(audioContext.destination);\n\t\tsource.start(0);\n\t};\n\n\tconst handleKeyDown = (event: KeyboardEvent) => {\n\t\t// Adjust note mapping as needed\n\t\tconst keyMappings: { [key: string]: number } = {\n\t\t\ta: 4, // Example mapping: 'a' key plays note C4\n\t\t\ts: 5 // Example mapping: 's' key plays note D4\n\t\t\t// Add more mappings for other keys as needed\n\t\t};\n\n\t\tconst note = keyMappings[event.key.toLowerCase()];\n\t\tif (note) {\n\t\t\tplayNote(note);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('keydown', handleKeyDown);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', handleKeyDown);\n\t\t};\n\t}, []);\n\n\treturn <div className=\"keyboard\"></div>;\n};\n\nexport default Keyboard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,QAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChC,MAAMC,YAAY,GAAG,IAAIC,YAAY,CAAC,CAAC;EACvC,IAAIC,MAAoC,GAAG,IAAI;EAE/C,MAAMC,UAAU,GAAG,MAAOC,IAAY,IAAK;IAC1C,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4BF,IAAK,SAAQ,CAAC;IACxE,MAAMG,WAAW,GAAG,MAAMF,QAAQ,CAACE,WAAW,CAAC,CAAC;IAChD,OAAOP,YAAY,CAACQ,eAAe,CAACD,WAAW,CAAC;EACjD,CAAC;EAED,MAAME,QAAQ,GAAG,MAAOL,IAAY,IAAK;IACxC,IAAIF,MAAM,EAAE;MACXA,MAAM,CAACQ,IAAI,CAAC,CAAC;IACd;IAEA,MAAMC,MAAM,GAAG,MAAMR,UAAU,CAACC,IAAI,CAAC;IACrCF,MAAM,GAAGF,YAAY,CAACY,kBAAkB,CAAC,CAAC;IAC1CV,MAAM,CAACW,MAAM,GAAGF,MAAM;IACtBT,MAAM,CAACY,OAAO,CAACd,YAAY,CAACe,WAAW,CAAC;IACxCb,MAAM,CAACc,KAAK,CAAC,CAAC,CAAC;EAChB,CAAC;EAED,MAAMC,aAAa,GAAIC,KAAoB,IAAK;IAC/C;IACA,MAAMC,WAAsC,GAAG;MAC9CC,CAAC,EAAE,CAAC;MAAE;MACNC,CAAC,EAAE,CAAC,CAAC;MACL;IACD,CAAC;IAED,MAAMjB,IAAI,GAAGe,WAAW,CAACD,KAAK,CAACI,GAAG,CAACC,WAAW,CAAC,CAAC,CAAC;IACjD,IAAInB,IAAI,EAAE;MACTK,QAAQ,CAACL,IAAI,CAAC;IACf;EACD,CAAC;EAEDT,SAAS,CAAC,MAAM;IACf6B,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAER,aAAa,CAAC;IACjD,OAAO,MAAM;MACZO,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAET,aAAa,CAAC;IACrD,CAAC;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOpB,OAAA;IAAK8B,SAAS,EAAC;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AACxC,CAAC;AAAChC,EAAA,CA5CID,QAAkB;AAAAkC,EAAA,GAAlBlC,QAAkB;AA8CxB,eAAeA,QAAQ;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}