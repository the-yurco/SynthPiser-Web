{"ast":null,"code":"var _jsxFileName = \"/home/jurco/SynthPiser-Web/frontend/src/components/Keyboard.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Keyboard = () => {\n  const audioContext = new AudioContext();\n  const loadSample = async note => {\n    try {\n      const response = await fetch(`/piano-flash-cards/audio/C${note}v10.mp3`);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch audio for note C${note}`);\n      }\n      const arrayBuffer = await response.arrayBuffer();\n      if (arrayBuffer.byteLength === 0) {\n        throw new Error(`Empty array buffer received for note C${note}`);\n      }\n      const audioContext = new AudioContext();\n      return await audioContext.decodeAudioData(arrayBuffer);\n    } catch (error) {\n      console.error('Error loading sample:', error);\n      throw error;\n    }\n  };\n  const playNote = async note => {\n    const sample = await loadSample(note);\n    const source = audioContext.createBufferSource();\n    source.buffer = sample;\n    source.connect(audioContext.destination);\n    source.start(0);\n  };\n  const handleButtonClick = async note => {\n    await playNote(note);\n  };\n\n  // Generate buttons for piano keys\n  const renderPianoKeys = () => {\n    const pianoKeys = [];\n    const rows = 2;\n    const columns = 8;\n    for (let row = 0; row < rows; row++) {\n      for (let col = 0; col < columns; col++) {\n        const note = row * columns + col + 1; // Note numbers start from 1\n        pianoKeys.push( /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleButtonClick(note),\n          children: `C${note}`\n        }, note, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 6\n        }, this));\n      }\n      pianoKeys.push( /*#__PURE__*/_jsxDEV(\"br\", {}, `row-${row}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }, this)); // Add line break after each row\n    }\n    return pianoKeys;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"keyboard\",\n    children: renderPianoKeys()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_c = Keyboard;\nexport default Keyboard;\nvar _c;\n$RefreshReg$(_c, \"Keyboard\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Keyboard","audioContext","AudioContext","loadSample","note","response","fetch","ok","Error","arrayBuffer","byteLength","decodeAudioData","error","console","playNote","sample","source","createBufferSource","buffer","connect","destination","start","handleButtonClick","renderPianoKeys","pianoKeys","rows","columns","row","col","push","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["/home/jurco/SynthPiser-Web/frontend/src/components/Keyboard.tsx"],"sourcesContent":["import React from 'react';\n\nconst Keyboard: React.FC = () => {\n\tconst audioContext = new AudioContext();\n\n\tconst loadSample = async (note: number) => {\n\t\ttry {\n\t\t\tconst response = await fetch(`/piano-flash-cards/audio/C${note}v10.mp3`);\n\t\t\tif (!response.ok) {\n\t\t\t\tthrow new Error(`Failed to fetch audio for note C${note}`);\n\t\t\t}\n\t\t\tconst arrayBuffer = await response.arrayBuffer();\n\t\t\tif (arrayBuffer.byteLength === 0) {\n\t\t\t\tthrow new Error(`Empty array buffer received for note C${note}`);\n\t\t\t}\n\t\t\tconst audioContext = new AudioContext();\n\t\t\treturn await audioContext.decodeAudioData(arrayBuffer);\n\t\t} catch (error) {\n\t\t\tconsole.error('Error loading sample:', error);\n\t\t\tthrow error;\n\t\t}\n\t};\n\n\tconst playNote = async (note: number) => {\n\t\tconst sample = await loadSample(note);\n\t\tconst source = audioContext.createBufferSource();\n\t\tsource.buffer = sample;\n\t\tsource.connect(audioContext.destination);\n\t\tsource.start(0);\n\t};\n\n\tconst handleButtonClick = async (note: number) => {\n\t\tawait playNote(note);\n\t};\n\n\t// Generate buttons for piano keys\n\tconst renderPianoKeys = () => {\n\t\tconst pianoKeys: JSX.Element[] = [];\n\t\tconst rows = 2;\n\t\tconst columns = 8;\n\n\t\tfor (let row = 0; row < rows; row++) {\n\t\t\tfor (let col = 0; col < columns; col++) {\n\t\t\t\tconst note = row * columns + col + 1; // Note numbers start from 1\n\t\t\t\tpianoKeys.push(\n\t\t\t\t\t<button key={note} onClick={() => handleButtonClick(note)}>\n\t\t\t\t\t\t{`C${note}`}\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t\tpianoKeys.push(<br key={`row-${row}`} />); // Add line break after each row\n\t\t}\n\n\t\treturn pianoKeys;\n\t};\n\n\treturn <div className=\"keyboard\">{renderPianoKeys()}</div>;\n};\n\nexport default Keyboard;\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,QAAkB,GAAGA,CAAA,KAAM;EAChC,MAAMC,YAAY,GAAG,IAAIC,YAAY,CAAC,CAAC;EAEvC,MAAMC,UAAU,GAAG,MAAOC,IAAY,IAAK;IAC1C,IAAI;MACH,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,6BAA4BF,IAAK,SAAQ,CAAC;MACxE,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;QACjB,MAAM,IAAIC,KAAK,CAAE,mCAAkCJ,IAAK,EAAC,CAAC;MAC3D;MACA,MAAMK,WAAW,GAAG,MAAMJ,QAAQ,CAACI,WAAW,CAAC,CAAC;MAChD,IAAIA,WAAW,CAACC,UAAU,KAAK,CAAC,EAAE;QACjC,MAAM,IAAIF,KAAK,CAAE,yCAAwCJ,IAAK,EAAC,CAAC;MACjE;MACA,MAAMH,YAAY,GAAG,IAAIC,YAAY,CAAC,CAAC;MACvC,OAAO,MAAMD,YAAY,CAACU,eAAe,CAACF,WAAW,CAAC;IACvD,CAAC,CAAC,OAAOG,KAAK,EAAE;MACfC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,MAAMA,KAAK;IACZ;EACD,CAAC;EAED,MAAME,QAAQ,GAAG,MAAOV,IAAY,IAAK;IACxC,MAAMW,MAAM,GAAG,MAAMZ,UAAU,CAACC,IAAI,CAAC;IACrC,MAAMY,MAAM,GAAGf,YAAY,CAACgB,kBAAkB,CAAC,CAAC;IAChDD,MAAM,CAACE,MAAM,GAAGH,MAAM;IACtBC,MAAM,CAACG,OAAO,CAAClB,YAAY,CAACmB,WAAW,CAAC;IACxCJ,MAAM,CAACK,KAAK,CAAC,CAAC,CAAC;EAChB,CAAC;EAED,MAAMC,iBAAiB,GAAG,MAAOlB,IAAY,IAAK;IACjD,MAAMU,QAAQ,CAACV,IAAI,CAAC;EACrB,CAAC;;EAED;EACA,MAAMmB,eAAe,GAAGA,CAAA,KAAM;IAC7B,MAAMC,SAAwB,GAAG,EAAE;IACnC,MAAMC,IAAI,GAAG,CAAC;IACd,MAAMC,OAAO,GAAG,CAAC;IAEjB,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGF,IAAI,EAAEE,GAAG,EAAE,EAAE;MACpC,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGF,OAAO,EAAEE,GAAG,EAAE,EAAE;QACvC,MAAMxB,IAAI,GAAGuB,GAAG,GAAGD,OAAO,GAAGE,GAAG,GAAG,CAAC,CAAC,CAAC;QACtCJ,SAAS,CAACK,IAAI,eACb9B,OAAA;UAAmB+B,OAAO,EAAEA,CAAA,KAAMR,iBAAiB,CAAClB,IAAI,CAAE;UAAA2B,QAAA,EACvD,IAAG3B,IAAK;QAAC,GADCA,IAAI;UAAA4B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAET,CACT,CAAC;MACF;MACAX,SAAS,CAACK,IAAI,eAAC9B,OAAA,WAAU,OAAM4B,GAAI,EAAC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,CAAC,CAAC,CAAC;IAC5C;IAEA,OAAOX,SAAS;EACjB,CAAC;EAED,oBAAOzB,OAAA;IAAKqC,SAAS,EAAC,UAAU;IAAAL,QAAA,EAAER,eAAe,CAAC;EAAC;IAAAS,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAC3D,CAAC;AAACE,EAAA,GAvDIrC,QAAkB;AAyDxB,eAAeA,QAAQ;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}